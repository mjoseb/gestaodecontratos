{% extends 'base.html' %}

{% block content %}

<br><br><br><br>
<div class="container mt-5">
    <h1 class="text-center mb-4">Criar Contrato</h1>
    <form action="{{ url_for('create_contrato') }}" method="post" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="title" class="form-label">Título</label>
            <input type="text" id="title" name="title" class="form-control" required>
        </div>
        <div class="mb-1">
            <label for="start_date" class="form-label">Data de Início</label>
            <input type="date" id="start_date" name="start_date" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="end_date" class="form-label">Data de Término</label>
            <input type="date" id="end_date" name="end_date" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="initial_balance" class="form-label">Saldo Inicial</label>
            <input type="number" step="0.01" id="initial_balance" name="initial_balance" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="contrato_number" class="form-label">Número do Contrato</label>
            <input type="text" id="contrato_number" name="contrato_number" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="original_process" class="form-label">Processo Original</label>
            <input type="number" id="original_process" name="original_process" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="update_date" class="form-label">Data de Atualização</label>
            <input type="date" id="update_date" name="update_date" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="update_protocol" class="form-label">Protocolo de Atualização</label>
            <input type="number" id="update_protocol" name="update_protocol" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="duration" class="form-label">Duração (em meses)</label>
            <input type="number" id="duration" name="duration" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="monthly_value" class="form-label">Valor Mensal</label>
            <input type="number" step="0.01" id="monthly_value" name="monthly_value" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="total_value" class="form-label">Valor Total</label>
            <input type="number" step="0.01" id="total_value" name="total_value" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="manager_id" class="form-label">Gestor(es)</label>
            <select id="manager_id" name="manager_id[]" class="form-control select2" multiple="multiple" required>
                {% for user in users %}
                    <option value="{{ user.id }}">{{ user.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="auditor_id" class="form-label">Fiscal(is)</label>
            <select id="auditor_id" name="auditor_id[]" class="form-control select2" multiple="multiple" required>
                {% for user in users %}
                    <option value="{{ user.id }}">{{ user.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="supplier_id" class="form-label">Fornecedor</label>
            <select id="supplier_id" name="supplier_id" class="form-control" required>
                {% for supplier in suppliers %}
                    <option value="{{ supplier.id }}">{{ supplier.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="author_id" class="form-label">Autor</label>
            <select id="author_id" name="author_id" class="form-control" required>
                {% for author in authors %}
                    <option value="{{ author.id }}">{{ author.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="origin_id" class="form-label">Origem</label>
            <select id="origin_id" name="origin_id" class="form-control" required>
                {% for origin in origins %}
                    <option value="{{ origin.id }}">{{ origin.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="procedimento_id" class="form-label">Procedimento</label>
            <select id="procedimento_id" name="procedimento_id" class="form-control" required>
                {% for procedimento in procedimentos %}
                    <option value="{{ procedimento.id }}">{{ procedimento.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="classification_id" class="form-label">Classificação</label>
            <select id="classification_id" name="classification_id" class="form-control" required>
                {% for classification in classifications %}
                    <option value="{{ classification.id }}">{{ classification.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="sector_id" class="form-label">Setor</label>
            <select id="sector_id" name="sector_id" class="form-control" required>
                {% for sector in sectors %}
                    <option value="{{ sector.id }}">{{ sector.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="directorate_id" class="form-label">Diretoria</label>
            <select id="directorate_id" name="directorate_id" class="form-control" required>
                {% for directorate in directorates %}
                    <option value="{{ directorate.id }}">{{ directorate.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="instrument_id" class="form-label">Instrumento</label>
            <select id="instrument_id" name="instrument_id" class="form-control" required>
                {% for instrument in instruments %}
                    <option value="{{ instrument.id }}">{{ instrument.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="last_update_id" class="form-label">Última Atualização</label>
            <select id="last_update_id" name="last_update_id" class="form-control" required>
                {% for last_update in last_updates %}
                    <option value="{{ last_update.id }}">{{ last_update.name }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary btn-block">Criar Contrato</button>
    </form>
</div>
{% endblock %}


